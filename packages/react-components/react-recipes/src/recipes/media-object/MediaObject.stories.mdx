import LinkTo from '@storybook/addon-links/react';
import { Meta } from '@storybook/addon-docs';
import { TextPositionVariations, TextAlignmentVariations, FlexSkeleton, IconMediaObject } from './code-snippets';
import { Example } from '../../templates';

<Meta title="Concepts/Recipes/Media Object" />

---

# Media Object recipe

### **Overview**

A Media Object, is a pattern that is commonly used to display some media content and a description of that content.
It is commonly used to display an Avatar/Image of a person along with their name and description. We provide an
out of the box component in Fluent UI (v8's Persona and v9's Persona) that can be used to achieve this pattern.

This recipe focuses on the other uses of this pattern, where media content is not a persona. We will guide you on
how to create a Media Object that can be used to display images, icons, and any other media content you might
want to add.

### **Ingredients**

- <LinkTo kind="concepts-developer-icons-icons--page">@fluentui/react-icons</LinkTo>
- <LinkTo kind="components-image--default">@fluentui/react-image</LinkTo>
- <LinkTo kind="components-text--default">@fluentui/react-text</LinkTo>

> **\*\*Note:\*\*** This recipe is meant to provide a way to use custom media. If you want to use
> `Avatar` or `PresenceBadge` as media, please refer to our Persona Component.

## **Steps**

There are two ways to build a Media Object, you can use a grid layout or a flex layout. We will cover both in this
recipe. There are upsides and downsides to both, but the main difference is that grid layout uses less dom than the
flex option.

### **Flex Layout**

The main idea behind the flex layout is to have a container and two children, as shown below. The parent div will
contain the media and another div (text div) that will contain the text content.

<Example centered>
  <FlexSkeleton />
</Example>

To achieve this layout, we will follow these steps:

#### **Step 1: Creating our parent and text containers.**

As seen above, we will first need to create our parent div and our text containers. These containers will need to have
the `display: flex` css property and a `row` direction for the parent and a `column` direction for the text container.
That is all we need to do! Since we are using flex box we don't need to worry about dynamically placing items. Do take into
account that using this approach will be heavier on the dom than the grid approach. After these steps you should be able
to build something like the example below (spacing aside).

<Example centered>
  <IconMediaObject />
</Example>

### **Grid Layout**

When using a grid for Media Object, we only need a parent div and we can pass the items directly into it.
As you can tell, the grid layout has one less layer of dom compared to the flex layout. This is especially important
when the component is going to be used repeatedly in a list or the media or/and text have many layers themselves.

To get started, we will follow these steps:

#### **Step 1: Creating our grid.**

To get the initial layout, we need to add these css properties to our parent div:

- `display: grid`: This will create our grid layout and allow us to use the grid properties.
- `grid-auto-flow: column`: This will make the grid flow as a column and allow our media to be on the left and our text on the right.

#### **Step 2: Adding our media.**

Our next step is to add our media. Unlike the flex layout, we will need to add some css properties to our media because
we are using `grid-auto-flow: column`. To make our media take all the rows on the left, we will need to make our media
span the number of rows the text will take. If we have 4 lines of text, we will need to add `grid-row-start: span 4`.
While this could be done dynamically using line names, this is the simplest way to achieve a media object with grid.
After these steps we should be able to add our media and text, and get the desired layout shown above.

#### **Step 3 (_optional_): Dynamically place media and text.**

If you want to dynamically place your media and text, you can use `grid-template-columns` to achieve this. For the basic
layout, we need to add the css property `grid-template-columns: max-content [middle] auto`. This will create two columns
and a line name called middle. The max-content column will be the media which will help only use the space needed for the
media and the auto column will be the text so we can wrap it when there is not enough space in our container.

#### **Step 4 (_optional_): Let your media and text know where to start and end.**

Now that we have our template columns, we need to let your text know where to start and our media where to end. The media
must end at the middle line and the text must start at the middle line. This has the pro of not having to know how many
rows of text we will have, but the downside is that we have to let the media and text know where to start or end. To let
the media know where to end, we will add `grid-column-end: middle` and we do the same with the text with `grid-column-start`.

## **Variants**

There are a few common variants that you might want to use when building a Media Object. These are some of them:

- ### **Text Alignment Variations**

There are text alignment variations that might be useful when building an application. These can be ones below where the
first one is after the media, the second one is below, and the last one is before.

<Example centered>
  <TextPositionVariations />
</Example>

- ### **Text Vertical Alignment Variations**

There are also vertical alignment variations, these include start and center as seen below.

<Example centered>
  <TextAlignmentVariations />
</Example>

## **Best practices**

- The higher up the text line, the more important it is. You should not apply higher weights to the lines underneath.
- When using `grid-template-columns` make sure the dom makes sense and not differ from how the grid is placing them. Do
  not have your dom be `<media> <text>` when the rendered result looks like `<text> <media>`.
