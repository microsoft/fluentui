import { Meta } from '@storybook/addon-docs';

<Meta title="Concepts/Developer/Accessibility" />

## Creating an accessible web application or web page

When designing an applicaion or web page, keep in mind, that the easiest way to make it accessible is to maintain a consistent and standard compliant document structure.
Following steps help to design an accessible user experience:

- decompose UI to parts and **identify components, variants and behaviors to use**
- define usage of **[headings and landmarks](https://www.w3.org/TR/wai-aria-practices/examples/landmarks/index.html)**
- verify usage of **[color and contrast](https://accessibility.umn.edu/core-skills/color-contrast')** to convey information
- ensure **tab order and arrow key navigation** is consistent with DOM structure and used ARIA roles
- specify **labels**, especially for components without textual information (icon only buttons) and for containers (lists, toolbars and so on)
- specify texts for **state change announcements** (error messages, confirmations, dynamic UI changes, ...)
- identify UI parts that **appear on hover or focus** and specify keyboard and screen reader interaction with them. Keep in mind that screen readers and in most cases also touch devices do not support hover state.
- list cases when **focus** needs to be **moved programatically** (if parts of the UI are appearing/disappearing or other cases)
- list cases when **focus** needs to be **trapped** in sections of the UI (for dialogs and popups or for hierarchical navigation)
- if extending existing functionality, think about how it fits into current experience with regards to **discoverability, interaction, keyboard navigation and screen reader navigation**
- in your designs, cover **High contrast** and **Zoom** scenarios

Fluent UI components are designed to support various aspects of accessibility by default, so that they can be used with different input methods (mouse, touch, keyboard, screen readers) as well as fulfill different rendering and layout requirements (theming, zoom, contrast).
The [Web Content Accessibility Guidelines (WCAG)](https://www.w3.org/TR/WCAG21/) and [WAI-ARIA Authoring Practices](https://www.w3.org/TR/wai-aria-practices-1.2/) are community-driven standards for accessible web pages and applications. They provide a basic framework allowing consistent usage of web pages and applications with or without assistive technologies.

Fluent UI components aim to fully respect both WCAG and ARIA and the Fluent UI team is working with the community to improve them.

## Scope

Fluent UI compoennts fulfill following requirements:

- **DOM structure** that provides **semantical value** either by using correct element types or roles
- **ARIA attributes** that are valid for elements/roles used and provide correct state information about the component or element
- **Keyboard navigation** (navigation by tabbing, arrow keys, pagination or letter keys, click and right click (Enter/Space, Shift+F10), and close (Escape)) applied based on the component
- **Screen reader navigation** (Virtual Cursor/Browse mode/Scan mode/VoiceOver keys)
- **Touch interaction**
- **Focus handling** when the component is able to move the focus in a predictable way - mostly when opening menus, popups or dialogs (autofocus) or dismissing them using Esc. Focus trap for Dialog and popups
- **Sufficient color contrast**
- Light, Dark and High Contrast **themes**
- Displaying **focus indicator** when keyboard is used to interact with them
- **Tested** against visual inconsistencies/bugs on a zoom up 400%

Fluent UI components use [tabster](https://github.com/microsoft/tabster) for focus handling functionality, so that they can be easily integrated with application-level tabster functionality such as delooser and cross-iframe focusing.

## Out of Scope

- Internationalization, globalization, keyboard shortcuts and language detection are deliberately not part of Fluent UI and should be handled by the hosting application.
- Focus handling (except of the points mentioned in Scope) on an application level needs to be handled by the application, preferably using [tabster](https://github.com/microsoft/tabster).

## Interactions

### Mouse and touchpad

Mouse and touchpad are the most common ways of interaction with a web application or page. To make them easily navigable by mouse, keep in mind:

- clear and logical page structure
- readable texts
- visible active controls with sufficient size and contrast

### Keyboard

Besides entering data, keyboard can be also used to interact with the page or application.
All interactive controls need to:

- be focusable
- display focus indicator with sufficient contrast when focused
- allow keyboard alternatives for mouse interactions (left click, right click)
- allow additional keyboard interactions, for example as mentioned in [WAI-ARIA Authoring Practices](https://www.w3.org/TR/wai-aria-practices-1.2/)

`Tab` and `Shift+Tab` are the most comonnly used keys that allow users to navigate through the experience. In some cases, arrow key navigation is more efficient, but when used in a non-standard way and most importantly without the **matching semantic element** or **role**, arrow key navigation can cause areas of the experience to be hard to discover.

### Touch

Touch might seem as an equal alternative to mouse, however there are noticable specifics:

- hit areas need to be larger than for mouse interactions
- hover state is typically not supported by touch devices

### Screen readers

Screen readers are the most commonly used assistive technologies, intended especially for visually impaired users as a primary or supportive way of interaction.
Some users might fully rely on the screen reader where they interact with the application either using specific screen reader shortcuts or using standard keyboard presses. Screen reader then narrates infomation about focused elements, their contexts and live narration.
It is also relatively common to use screen reader in combination with touch gestures or even mouse.

In both cases, well structured DOM and clearly understandable labelling of UI controls is essential for good screen reader experience.
Given the wide variety of screen readers on different platforms and differences between them, the only way to provide consistency for all users is adhering to the standards.

### Other assistive technologies

Other assistive technologies include for example dicatation, zoom, braille displays or various hardware input devices.

## Ensuring accessibility

- test automation - accessibility insights o axe-core are great tools that can automatically detect large portion of accessibility issues. Accessibility is easy to regress and test automation is one of the most efficient way of preventing that.
-
