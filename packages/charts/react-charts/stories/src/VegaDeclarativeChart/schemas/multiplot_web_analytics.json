{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Dashboard: Web analytics - traffic sources side by side",
  "data": {
    "values": [
      { "source": "Organic", "visitors": 4250, "bounceRate": 32, "avgDuration": 245 },
      { "source": "Direct", "visitors": 2800, "bounceRate": 28, "avgDuration": 315 },
      { "source": "Social", "visitors": 1950, "bounceRate": 45, "avgDuration": 180 },
      { "source": "Referral", "visitors": 1420, "bounceRate": 38, "avgDuration": 220 },
      { "source": "Email", "visitors": 890, "bounceRate": 22, "avgDuration": 390 }
    ]
  },
  "hconcat": [
    {
      "title": "Visitor Count by Source",
      "mark": { "type": "bar", "color": "#3498db" },
      "encoding": {
        "y": { "field": "source", "type": "nominal", "axis": { "title": "Traffic Source" }, "sort": "-x" },
        "x": { "field": "visitors", "type": "quantitative", "axis": { "title": "Visitors", "format": ",.0f" } }
      },
      "width": 280,
      "height": 200
    },
    {
      "title": "Bounce Rate Analysis",
      "mark": { "type": "bar", "color": "#e74c3c" },
      "encoding": {
        "y": { "field": "source", "type": "nominal", "axis": { "title": null }, "sort": "-x" },
        "x": { "field": "bounceRate", "type": "quantitative", "axis": { "title": "Bounce Rate %", "format": ".0f" } }
      },
      "width": 280,
      "height": 200
    },
    {
      "title": "Avg Session Duration (sec)",
      "mark": { "type": "bar", "color": "#2ecc71" },
      "encoding": {
        "y": { "field": "source", "type": "nominal", "axis": { "title": null }, "sort": "-x" },
        "x": { "field": "avgDuration", "type": "quantitative", "axis": { "title": "Duration (s)", "format": ".0f" } }
      },
      "width": 280,
      "height": 200
    }
  ]
}
