import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Concepts/Migration/from v0/Components/Avatar Migration" />

# Avatar Migration

## Overview:

Before:

```tsx
import { Avatar } from '@fluentui/react-northstar';
const Component = () => <Avatar />;
```

After:

```tsx
import { Avatar } from '@fluentui/react-components';
const Component = () => <Avatar />;
```

## How to migrate props:

<table>
  <thead>
    <tr>
      <th>Avatar props</th>
      <th>migrate guide</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>as, className</td>
      <td>keep it as is</td>
    </tr>
    <tr>
      <td>variables, design, styles</td>
      <td>see Migrate style overrides in this document</td>
    </tr>
    <tr>
      <td>accessibility</td>
      <td>see [migrate-custom-accessibility.md](?path=/docs/concepts-migration-from-v0-custom-accessibility--docs)</td>
    </tr>
    <tr>
      <td>key, ref</td>
      <td>keep it as is</td>
    </tr>
    <tr>
      <td>getInitials</td>
      <td>use `initials` prop instead</td>
    </tr>
    <tr>
      <td>icon</td>
      <td>keep it as is</td>
    </tr>
    <tr>
      <td>image</td>
      <td>see Migrate image prop in this document</td>
    </tr>
    <tr>
      <td>label</td>
      <td>use `initials` prop instead</td>
    </tr>
    <tr>
      <td>name</td>
      <td>keep it as is</td>
    </tr>
    <tr>
      <td>size</td>
      <td>see Migrate size prop in this document</td>
    </tr>
    <tr>
      <td>square</td>
      <td>replace with `shape="square"`</td>
    </tr>
    <tr>
      <td>status</td>
      <td>see Migrate status prop in this document</td>
    </tr>
  </tbody>
</table>

---

## Migrate style overrides

⚠️ **If this is your first migration**, please read [the general guide on how to migrate styles](?path=/docs/concepts-migration-from-v0-custom-style-overrides--docs).

### Example for migrate boolean `variables`:

Before:

```tsx
// in COMPONENT_NAME.tsx
import { Avatar } from '@fluentui/react-northstar';

export const Component = () => <Avatar variables={{ isCustomVariable: true }} />;

// in avatar-styles.ts
export const avatarStyles = {
  root: ({ variables: { isCustomVariable } }) => ({
    ...(isCustomVariable && {
      ':focus': {
        outlineColor: colorSchemeBrand.borderFocus,
      },
    }),
  }),
};
```

After:

```tsx
// in COMPONENT_NAME.tsx
import { Avatar } from '@fluentui/react-components';
import { useStyles } from './COMPONENT_NAME.styles.ts';

export const Component = () => {
  const classes = useStyles();
  return <Avatar className={classes.customAvatar} />;
};

// in COMPONENT_NAME.styles.ts
import { makeStyles, tokens } from '@fluentui/react-components';

export const useStyles = makeStyles({
  customAvatar: {
    ':focus': {
      outlineColor: tokens.colorNeutralBackground3Pressed,
    },
  },
});
```

## Migrate `image` prop

To migrate `image` prop use following object structure:

Before:

```tsx
import { Avatar } from '@fluentui/react-northstar';
const Component = () => (
  <Avatar image="https://fabricweb.azureedge.net/fabric-website/assets/images/avatar/RobertTolbert.jpg" />
);
```

After:

```tsx
import { Avatar } from '@fluentui/react-components';
const Component = () => (
  <Avatar
    image={{
      alt: 'profile image',
      src: 'https://fabricweb.azureedge.net/fabric-website/assets/images/avatar/RobertTolbert.jpg',
    }}
  />
);
```

## Migrate `size` prop

Introduced new size values:

<table>
  <thead>
    <tr>
      <th>Value before</th>
      <th>Value after</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>smallest</td>
      <td>20</td>
    </tr>
    <tr>
      <td>smaller</td>
      <td>24</td>
    </tr>
    <tr>
      <td>small</td>
      <td>28</td>
    </tr>
    <tr>
      <td>medium</td>
      <td>32</td>
    </tr>
    <tr>
      <td>large</td>
      <td>64</td>
    </tr>
    <tr>
      <td>largest</td>
      <td>96</td>
    </tr>
  </tbody>
</table>

Before:

```tsx
import { Avatar } from '@fluentui/react-northstar';
const Component = () => <Avatar size="small" />;
```

After:

```tsx
import { Avatar } from '@fluentui/react-components';
const Component = () => <Avatar size={28} />;
```

## Migrate `status` prop

`status` property was replaced with `badge` property.
There were introduced simplified status indicators:
`busy`, `outOfOffice`, `away`, `available`, `offline`, `doNotDisturb`.

Before:

```tsx
import { Avatar } from '@fluentui/react-northstar';
const Component = () => (
  <Avatar
    status={{
      color: 'green',
      icon: <AcceptIcon />,
      title: 'Available',
    }}
  />
);
```

After:

```tsx
import { Avatar } from '@fluentui/react-components';
const Component = () => (
  <Avatar
    badge={{
      status: 'available',
    }}
  />
);
```

All status indicators can be used with `outOfOffice` property:

```tsx
import { Avatar } from '@fluentui/react-components';
const Component = () => (
  <Avatar
    badge={{
      outOfOffice: true,
      status: 'busy',
    }}
  />
);
```
