import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Concepts/Migration/from v0/Components/TabList Migration" />

# TabList component Migration guide

## Overview:

This document will guide you how to migrate from `Menu` component with `TabList` accessibility behavior from Fluent V0 to the `TabList` component in Fluent V9.

Before:

```tsx
import { Menu, tabListBehavior } from "@fluentui/react-northstar";
const Component = ({items}) => (
  <Menu
    defaultActiveIndex={0}
    items={items}
    primary
    underlined
    accessibility={tabListBehavior}
  />;
)
```

After:

```tsx
import { Tab, TabList } from '@fluentui/react-components';
const Component = props => (
  <TabList {...props} defaultSelectedValue={'tab1'}>
    <Tab value="tab1">First Tab</Tab>
    <Tab value="tab2">Second Tab</Tab>
    <Tab value="tab3">Third Tab</Tab>
  </TabList>
);
```

## How to migrate props:

<table>
  <thead>
    <tr>
      <th>Menu props</th>
      <th>migrate guide</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>as, className</td>
      <td>keep it as is</td>
    </tr>
    <tr>
      <td>accessibility</td>
      <td>
        remove tabListBehavior and see
        [migrate-custom-accessibility.md](?path=/docs/concepts-migration-from-v0-custom-accessibility--docs)
      </td>
    </tr>
    <tr>
      <td>variables, design, styles</td>
      <td>see [Migrate style overrides](#migrate-style-overrides) in this document</td>
    </tr>
    <tr>
      <td>activeIndex</td>
      <td>replace with `selectedValue` prop</td>
    </tr>
    <tr>
      <td>disabled</td>
      <td>you can either disable the entire `TabList` or individual `TabItem` components</td>
    </tr>
    <tr>
      <td>defaultActiveIndex</td>
      <td>replace with `defaultSelectedValue` prop</td>
    </tr>
    <tr>
      <td>fluid</td>
      <td>irrelevant (see Menu migration) or use styles</td>
    </tr>
    <tr>
      <td>icon</td>
      <td>move to `Tab` component</td>
    </tr>
    <tr>
      <td>items</td>
      <td>map items to `Tab` component</td>
    </tr>
    <tr>
      <td>onActiveIndexChange</td>
      <td>remove, use `onTabSelect`</td>
    </tr>
    <tr>
      <td>onItemClick</td>
      <td>replace with `onTabSelect`</td>
    </tr>
    <tr>
      <td>ref, key</td>
      <td>keep it as is</td>
    </tr>
    <tr>
      <td>underlined</td>
      <td>remove, has underlined by default or use styles</td>
    </tr>
    <tr>
      <td>vertical</td>
      <td>keep it as is</td>
    </tr>
  </tbody>
</table>

Here is a comparison for both versions: [Sandbox](https://codesandbox.io/s/tablist-migration-fluentui-forked-lmdx81?file=/example.tsx)

---

## Migrate `Menu` with `tabListBehavior` a11y prop

Replace `Menu` with `TabList` component and `items` props with `Tab` components as JSX children of `TabList`.

Before:

```tsx
import { Menu, tabListBehavior } from "@fluentui/react-northstar";
const Component = ({items}) => (
  <Menu
    defaultActiveIndex={0}
    items={items}
    primary
    underlined
    accessibility={tabListBehavior}
  />;
)
```

After:

```tsx
import { Tab, TabList } from '@fluentui/react-components';
const Component = ({ items }) => (
  <TabList>
    {items.map(({ id, content }) => (
      <Tab key={id} value={id}>
        {content}
      </Tab>
    ))}
  </TabList>
);
```

## Migrate style overrides

⚠️ **If this is your first migration**, please read [the general guide on how to migrate styles](?path=/docs/concepts-migration-from-v0-custom-style-overrides--docs).

### Example for migrate boolean `variables`:

Before:

```tsx
// in COMPONENT_NAME.tsx
import { Menu, tabListBehavior } from '@fluentui/react-northstar';

export const Component = () => (
  <Menu
    defaultActiveIndex={0}
    variables={{ chatTabList: true }}
    items={items}
    primary
    underlined
    accessibility={tabListBehavior}
  />
);

// in menu-styles.ts
export const menuStyles1 = {
  root: ({ variables: { chatTabList } }) => ({
    ...(chatTabList && {
      width: '100%',
    }),
  }),
};
```

After:

```tsx
// in COMPONENT_NAME.tsx
import { Tab, TabList } from '@fluentui/react-components';
import { useStyles } from './COMPONENT_NAME.styles.ts';

export const Component = ({ items }) => {
  const classes = useStyles();
  return (
    <TabList className={classes.chatTabList} defaultSelectedValue={items[0].id}>
      {items.map(({ id, content }) => (
        <Tab key={id} value={id}>
          {content}
        </Tab>
      ))}
    </TabList>
  );
};

// in COMPONENT_NAME.styles.ts
import { makeStyles } from '@fluentui/react-components';

export const useStyles = makeStyles({
  chatTabList: {
    width: '100%',
  },
});
```
