import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Concepts/Migration/from v8/Components/TextField to Input Migration" />

# TextField to Input Migration

Fluent UI v8 provides the `TextField` control for entering and editing text. In Fluent UI v9 `TextField` is replaced with `Input` for single line input. For multiline input, use `Textarea`.

While basic usage is largely the same, `Input` omits some features found in `TextField`, preferring to compose several components together for greater flexibility.

## Examples

### Basic Migration

Basic usage of `TextField` looks like

```tsx
import * as React from 'react';
import { TextField } from '@fluentui/react/lib/TextField';}
import { Stack, IStackProps, IStackStyles } from '@fluentui/react/lib/Stack';

const columnProps: Partial<IStackProps> = {
  tokens: { childrenGap: 15 },
  styles: { root: { width: 300 } },
};

const TextFieldV8BasicExample = () => {
  return <Stack {...columnProps}>
    <TextField label="Standard" />
    <TextField label="Disabled" disabled defaultValue="I am disabled" />
    <TextField label="Read-only" readOnly defaultValue="I am read-only" />
    <TextField label="Required " required />
    <TextField ariaLabel="Required without visible label" required />
    <TextField label="With error message" errorMessage="Error message" />
  </Stack>
}
```

An equivalent `Input` usage is:

```tsx
import * as React from 'react';
import { makeStyles, Text, Label, Input } from '@fluentui/react-components';
import { useId } from '@fluentui/react-utilities';

const useStackStyles = makeStyles({
  root: {
    maxWidth: '300px',
    display: 'flex',
    flexDirection: 'column',

    '> * + *': {
      marginTop: '20px',
    },

    '> div': {
      display: 'flex',
      flexDirection: 'column',
    },
  },
});

const InputV9BasicExample = () => {
  const stackStyles = useStackStyles();
  const standardId = useId('standard');
  const disabledId = useId('disabled');
  const readonlyId = useId('readonly');
  const requiredId = useId('required');
  const errorId = useId('error');
  const errorMessageId = useId('error-message');

  return (
    <div className={stackStyles.root}>
      <div>
        <Label htmlFor={standardId}>Standard</Label>
        <Input id={standardId} />
      </div>

      <div>
        <Label htmlFor={disabledId}>Disabled</Label>
        <Input id={disabledId} disabled defaultValue="I am disabled" />
      </div>

      <div>
        <Label htmlFor={readonlyId}>Read Only</Label>
        <Input id={readonlyId} readOnly defaultValue="I am read only" />
      </div>

      <div>
        <Label htmlFor={requiredId} required>
          Required
        </Label>
        <Input id={requiredId} required defaultValue="I am required" />
      </div>

      <div>
        <Input
          aria-label="Required without visible label"
          required
          defaultValue="I am required without a visible label"
        />
      </div>

      <div>
        <Label htmlFor={errorId}>With Error Message</Label>
        <Input id={errorId} aria-describedby={errorMessageId} />
        <Text id={errorMessageId}>Error message</Text>
      </div>
    </div>
  );
};
```

## Prop Mapping

This table maps v8 `TextField` props to the v9 `Input` equivalent.

<table>
  <thead>
    <tr>
      <th>v8</th>
      <th>v9</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>`componentRef`</td>
      <td>`ref`</td>
      <td>v9 provides access to the underlyig DOM node, not ITextField</td>
    </tr>
    <tr>
      <td>`elementRef`</td>
      <td>`ref`</td>
      <td></td>
    </tr>
    <tr>
      <td>`multiline`</td>
      <td>n/a</td>
      <td>Use `Textarea`</td>
    </tr>
    <tr>
      <td>`resizable`</td>
      <td>n/a</td>
      <td></td>
    </tr>
    <tr>
      <td>`autoAjustHeight`</td>
      <td>n/a</td>
      <td>See `Textarea` docs</td>
    </tr>
    <tr>
      <td>`underlined`</td>
      <td>`appearance`</td>
      <td></td>
    </tr>
    <tr>
      <td>`borderless`</td>
      <td>`appearance`</td>
      <td></td>
    </tr>
    <tr>
      <td>`label`</td>
      <td>Use `Label` component</td>
      <td>Be sure to associate `Label` with `Input` via `htmlFor`</td>
    </tr>
    <tr>
      <td>`onRenderLabel`</td>
      <td>n/a</td>
      <td>Use slots to customize `Input`</td>
    </tr>
    <tr>
      <td>`description`</td>
      <td>n/a</td>
      <td>Use another element like `Text` and associate it with `Input` via `aria-describedby`</td>
    </tr>
    <tr>
      <td>`onRenderDescription`</td>
      <td>n/a</td>
      <td></td>
    </tr>
    <tr>
      <td>`onRenderInput`</td>
      <td>n/a</td>
      <td>Use slots to customize `Input`</td>
    </tr>
    <tr>
      <td>`prefix`</td>
      <td>`contentBefore`</td>
      <td>This is a slot not a `string`</td>
    </tr>
    <tr>
      <td>`suffix`</td>
      <td>`contentAfter`</td>
      <td>This is a slot not a `string`</td>
    </tr>
    <tr>
      <td>`onRenderPrefix`</td>
      <td>n/a</td>
      <td>Use slots to customize `Input`</td>
    </tr>
    <tr>
      <td>`onRenderSuffix`</td>
      <td>n/a</td>
      <td>Use slots to customize `Input`</td>
    </tr>
    <tr>
      <td>`iconProps`</td>
      <td>Use `contentBefore` or `contentAfter` slot</td>
      <td></td>
    </tr>
    <tr>
      <td>`defaultValue`</td>
      <td>`defaultValue`</td>
      <td>Mutually exclusive with `value`</td>
    </tr>
    <tr>
      <td>`value`</td>
      <td>`value`</td>
      <td>Mutually exclusive with `defaultValue`</td>
    </tr>
    <tr>
      <td>`disabled`</td>
      <td>`disabled`</td>
      <td></td>
    </tr>
    <tr>
      <td>`readOnly`</td>
      <td>`readOnly`</td>
      <td>In v9 this is the native HTML prop</td>
    </tr>
    <tr>
      <td>`invalid`</td>
      <td>n/a</td>
      <td>v9 `Input` does not handle validation states</td>
    </tr>
    <tr>
      <td>`errorMessage`</td>
      <td>n/a</td>
      <td>Use another element like `Text` and associate it with `Input` via `aria-describedby`</td>
    </tr>
    <tr>
      <td>`onChange`</td>
      <td>`onChange`</td>
      <td>Typescript types have changed</td>
    </tr>
    <tr>
      <td>`onNotifyValidationResult`</td>
      <td>n/a</td>
      <td>v9 `Input` does not handle validation</td>
    </tr>
    <tr>
      <td>`onGetErrorMessage`</td>
      <td>n/a</td>
      <td>v9 `Input` does not handle error states</td>
    </tr>
    <tr>
      <td>`deferredValidationTime`</td>
      <td>n/a</td>
      <td>v9 `Input` does not handle validation</td>
    </tr>
    <tr>
      <td>`className`</td>
      <td>`className`</td>
      <td></td>
    </tr>
    <tr>
      <td>`inputClassName`</td>
      <td>Use `input` slot</td>
      <td></td>
    </tr>
    <tr>
      <td>`ariaLabel`</td>
      <td>`aria-label`</td>
      <td></td>
    </tr>
    <tr>
      <td>`validateOnFocusIn`</td>
      <td>n/a</td>
      <td>v9 `Input` does not handle validation</td>
    </tr>
    <tr>
      <td>`validateOnFocusOut`</td>
      <td>n/a</td>
      <td>v9 `Input` does not handle validation</td>
    </tr>
    <tr>
      <td>`validateOnLoad`</td>
      <td>n/a</td>
      <td>v9 `Input` does not handle validation</td>
    </tr>
    <tr>
      <td>`theme`</td>
      <td>n/a</td>
      <td>Use `FluentProvider` to customize themes</td>
    </tr>
    <tr>
      <td>`styles`</td>
      <td>`className`</td>
      <td></td>
    </tr>
    <tr>
      <td>`autoComplete`</td>
      <td>`autoComplete`</td>
      <td>In v9 this is the native HTML prop</td>
    </tr>
    <tr>
      <td>`canRevealPassword`</td>
      <td>n/a</td>
      <td>v9 `Input` does not provide built in password reveal behavior</td>
    </tr>
    <tr>
      <td>`revealPasswordAriaLabel`</td>
      <td>n/a</td>
      <td>v9 `Input` does not provide built in password reveal behavior</td>
    </tr>
  </tbody>
</table>
