import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Concepts/Migration/from v8/Components/ColorPicker Migration" />

# ColorPicker migration

## Examples

Basic usage of `ColorPicker` v8

```jsx
import * as React from 'react';
import {
  ColorPicker,
  ChoiceGroup,
  IChoiceGroupOption,
  getColorFromString,
  IColor,
  IColorPickerStyles,
  IColorPickerProps,
} from '@fluentui/react';

const white = getColorFromString('#ffffff')!;

const ColorPickerBasicExample: React.FunctionComponent = () => {
  const [color, setColor] = React.useState(white);
  const [showPreview, setShowPreview] = React.useState(true);
  const [alphaType, setAlphaType] = React.useState<IColorPickerProps['alphaType']>('alpha');

  const updateColor = React.useCallback((ev: any, colorObj: IColor) => setColor(colorObj), []);

  return (
    <>
      <ColorPicker
        color={color}
        onChange={updateColor}
        alphaType={alphaType}
        showPreview={showPreview}
        styles={colorPickerStyles}
        strings={{
          hueAriaLabel: 'Hue',
        }}
      />
    </>
  );
};
```

An equivalent `ColorPicker` in v9 is

```jsx
import {
  ColorPicker,
  ColorArea,
  ColorSliderProps,
  AlphaSlider,
  ColorSlider,
  ColorPickerOnSelectEventHandler,
} from '@fluentui/react-color-picker-preview';

export const Default = () => {
  const [selectedColor, setSelectedColor] = React.useState({ h: 109, s: 1, v: 0.9, a: 1 });
  const handleChange: ColorPickerProps['onChange'] = (_, data) => setSelectedColor(data.selectedColorHex);

  return (
    <>
      <ColorPicker color={selectedColor} onChange={handleChange}>
        <ColorArea />
        <AlphaSlider />
        <ColorSlider />
      </ColorPicker>
      <div style={{ backgroundColor: tinycolor(color).toRgbString() }} />
    </>
  );
};
```

## Props mapping

### ColorPicker

This table maps v8 `ColorPicker` component props to their v9 equivalents.

<table>
  <thead>
    <tr>
      <th>v8</th>
      <th>v9</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>`alphaType`</td>
      <td>`not supported`</td>
      <td>Use `AlphaSlider` component.</td>
    </tr>
    <tr>
      <td>`alphaSliderHidden`</td>
      <td>`not supported`</td>
      <td></td>
    </tr>
    <tr>
      <td>`color`</td>
      <td>`color`</td>
      <td>Type changed `IColor, string`->`HSV`</td>
    </tr>
    <tr>
      <td>`className`</td>
      <td>`not supported`</td>
      <td>Slot system supports it by default. We don't need to provide it explicitly.</td>
    </tr>
    <tr>
      <td>`componentRef`</td>
      <td>`not supported`</td>
      <td></td>
    </tr>
    <tr>
      <td>`hexLabel`</td>
      <td>`not supported`</td>
      <td></td>
    </tr>
    <tr>
      <td>`redLabel`</td>
      <td>`not supported`</td>
      <td></td>
    </tr>
    <tr>
      <td>`greenLabel`</td>
      <td>`not supported`</td>
      <td></td>
    </tr>
    <tr>
      <td>`blueLabel`</td>
      <td>`not supported`</td>
      <td></td>
    </tr>
    <tr>
      <td>`alphaLabel`</td>
      <td>`not supported`</td>
      <td></td>
    </tr>
    <tr>
      <td>`onChange`</td>
      <td>`onColorChange`</td>
      <td>Renamed. Type changed `(ev: React.SyntheticEvent<HTMLElement>, color: IColor) => void;` => `EventHandler<ColorPickerOnChangeData>`</td>
    </tr>
    <tr>
      <td>`no equivalent`</td>
      <td>`shape`</td>
      <td>New prop, `shape` of the ColorPicker.</td>
    </tr>
    <tr>
      <td>`showPreview`</td>
      <td>`not supported`</td>
      <td>Use `ColorSwatch` instead.</td>
    </tr>
    <tr>
      <td>`strings`</td>
      <td>`not supported`</td>
      <td></td>
    </tr>
    <tr>
      <td>`styles`</td>
      <td>`not supported`</td>
      <td>Use style customization through `className` instead.</td>
    </tr>
    <tr>
      <td>`theme`</td>
      <td>`not supported`</td>
      <td></td>
    </tr>
    <tr>
      <td>`tooltipProps`</td>
      <td>`not supported`</td>
      <td>Use `Tooltip` component instead.</td>
    </tr>
  </tbody>
</table>

### ColorRectangle -> ColorArea

This table maps changes between `ColorRectangle` and `ColorArea` equivalent in v9.

<table>
  <thead>
    <tr>
      <th>v8</th>
      <th>v9</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>`ariaLabel`</td>
      <td>`not supported`</td>
      <td>Use native `aria-attributes`</td>
    </tr>
    <tr>
      <td>`ariaValueFormat`</td>
      <td>`not supported`</td>
      <td></td>
    </tr>
    <tr>
      <td>`ariaDescription`</td>
      <td>`not supported`</td>
      <td></td>
    </tr>
    <tr>
      <td>`color`</td>
      <td>`color`</td>
      <td>Type changed `IColor`->`HSV`</td>
    </tr>
    <tr>
      <td>`no equivalent`</td>
      <td>`defaultColor`</td>
      <td>Default color for uncontrollable ColorArea</td>
    </tr>
    <tr>
      <td>`minSize`</td>
      <td>`not supported`</td>
      <td></td>
    </tr>
    <tr>
      <td>`onChange`</td>
      <td>`onColorChange`</td>
      <td>Renamed. Type changed `(ev: React.SyntheticEvent<HTMLElement>, color: IColor) => void;` => `EventHandler<ColorPickerOnChangeData>`</td>
    </tr>
    <tr>
      <td>`no equivalent`</td>
      <td>`shape`</td>
      <td>New prop, `shape` of the ColorPicker.</td>
    </tr>
  </tbody>
</table>

### ColorSlider

<table>
  <thead>
    <tr>
      <th>v8</th>
      <th>v9</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>`type`</td>
      <td>`channel`</td>
      <td>Color channel. Currently supported `hue`, `saturation` and `brightness`. For alpha channel use `AlphaSlider`</td>
    </tr>
    <tr>
      <td>`color`</td>
      <td>`color`</td>
      <td>Type changed `IColor`->`HSV`</td>
    </tr>
    <tr>
      <td>`no equivalent`</td>
      <td>`defaultColor`</td>
      <td>Default color for uncontrollable ColorArea</td>
    </tr>
    <tr>
      <td>`minValue`</td>
      <td>`not supported`</td>
      <td>Use native input `min` prop</td>
    </tr>
    <tr>
      <td>`maxValue`</td>
      <td>`not supported`</td>
      <td>Use native input `max` prop</td>
    </tr>
    <tr>
      <td>`isAlpha`</td>
      <td>`not supported`</td>
      <td></td>
    </tr>
    <tr>
      <td>`overlayColor`</td>
      <td>`not supported`</td>
      <td></td>
    </tr>
    <tr>
      <td>`thumbColor`</td>
      <td>`not supported`</td>
      <td>Use native input `max` prop</td>
    </tr>
    <tr>
      <td>`overlayStyle`</td>
      <td>`not supported`</td>
      <td>Use native input `max` prop</td>
    </tr>
    <tr>
      <td>`onChange`</td>
      <td>`onColorChange`</td>
      <td>Renamed. Type changed `(ev: React.SyntheticEvent<HTMLElement>, color: IColor) => void;` => `EventHandler<ColorPickerOnChangeData>`</td>
    </tr>
    <tr>
      <td>`no equivalent`</td>
      <td>`shape`</td>
      <td>New prop, `shape` of the ColorPicker.</td>
    </tr>
    <tr>
      <td>`no equivalent`</td>
      <td>`vertical`</td>
      <td>Vertical slider.</td>
    </tr>
  </tbody>
</table>

### No equivalent in V8 -> AlphaSlider

For aplha channel, use `AlphaSlider` component.
It has all the props of the `ColorSlider`.

<table>
  <thead>
    <tr>
      <th>v8</th>
      <th>v9</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>`no equivalent`</td>
      <td>`transparency`</td>
      <td>The `transparency` property determines how the alpha channel is interpreted.</td>
    </tr>
  </tbody>
</table>

For more examples, please refer to the [ColorPicker documentation](https://react.fluentui.dev/?path=/docs/preview-components-colorpicker--docs).
